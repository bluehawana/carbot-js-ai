#!/bin/bash

echo "üöó CarBot In-Car Testing Guide"
echo "=============================="
echo ""
echo "This script will help you test CarBot features in your car"
echo ""

# Get backend status
if curl -s http://localhost:3000/api/health > /dev/null; then
    echo "‚úÖ Backend is running"
else
    echo "‚ùå Backend not running! Start with: npm start"
    exit 1
fi

echo ""
echo "üì± STEP 1: Connect Phone to Car"
echo "--------------------------------"
echo "1. Use a high-quality USB cable"
echo "2. Unlock your phone"
echo "3. Accept any Android Auto prompts"
echo "4. Wait for Android Auto to load"
echo ""
read -p "Press Enter when connected to car..."

echo ""
echo "üé§ STEP 2: Test Wake Words"
echo "--------------------------"
echo "Say these phrases clearly:"
echo "‚Ä¢ 'Hello My Car'"
echo "‚Ä¢ 'Hey Car Bot'"
echo "‚Ä¢ 'OK My Car'"
echo ""
echo "Or tap the microphone button in CarBot"
echo ""
read -p "Press Enter after testing wake words..."

echo ""
echo "ü§ñ STEP 3: Test AI Features"
echo "---------------------------"
echo "Try these commands that Google Assistant CAN'T do:"
echo ""
echo "üì∞ Real-time Information:"
echo "‚Ä¢ 'What's Elon Musk's latest tweet?'"
echo "‚Ä¢ 'What did Trump post today?'"
echo "‚Ä¢ 'What's trending on Twitter?'"
echo "‚Ä¢ 'Latest cryptocurrency prices'"
echo ""
echo "üß† Advanced AI:"
echo "‚Ä¢ 'Write a poem about driving'"
echo "‚Ä¢ 'Explain quantum physics simply'"
echo "‚Ä¢ 'Create a workout routine'"
echo "‚Ä¢ 'Tell me a joke about cars'"
echo ""
echo "üöó Car-specific:"
echo "‚Ä¢ 'What's the best route avoiding traffic?'"
echo "‚Ä¢ 'Find the nearest EV charging station'"
echo "‚Ä¢ 'Recommend a good podcast for driving'"
echo ""
read -p "Press Enter after testing AI features..."

echo ""
echo "üîä STEP 4: Audio Quality Check"
echo "------------------------------"
echo "1. Is the voice clear through car speakers?"
echo "2. Can CarBot hear you over road noise?"
echo "3. Does the wake word work while music is playing?"
echo ""
read -p "Rate audio quality (1-10): "

echo ""
echo "üìä STEP 5: Performance Check"
echo "----------------------------"
echo "Monitoring CarBot performance..."
echo ""

# Show recent logs
echo "Recent CarBot logs:"
adb logcat -d | grep -i carbot | tail -20

echo ""
echo "‚úÖ Test Complete!"
echo "-----------------"
echo "CarBot is ready for daily use in your car!"
echo ""
echo "üí° Pro Tips:"
echo "‚Ä¢ Keep phone screen on for best performance"
echo "‚Ä¢ Use 'Hey Car Bot' in noisy environments"
echo "‚Ä¢ Report issues at: https://github.com/yourusername/carbot/issues"
echo ""
echo "üöÄ Enjoy your AI-powered car assistant!"